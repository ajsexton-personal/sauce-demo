# sauce-demo

Automation demonstration using Playwright

## pre-requisites

1. have npm installed

## installation and setup

1. install playwright `npx playwright install`
2. install the project `npm i`

## running tests

Run `npx playwright test` or `npm run tests`

If visual debug is required run `npx playwright test --ui` in the terminal

Tests can also be run from VSCodes test explorer

Note: some tests are expected to fail. this is because they are revealing bugs

There is a github action configured to be run on manual dispatch which will also execute tests.
Note: it can be very slow due to playwright installation time

To review test reports generated by github execution download the zip file from the upload-artifact step,
unzip it into folder somewhere you have playwright installed and run `npx playwright show-report your-folder-name`
This will allow you to click into failing tests and review screenshots and traces

## notes

1. initial project setup
2. automate login flow
   - used testIds rather than getByRole. getByRole is arguably better due to implicit accessibility but testIds are everywhere
3. automate full e2e journey
4. refactor to POM
5. pick at least one other test per page, ideally a passing and failing scenario
   - only did a couple of failing scenarios due to time constraints

## todos / nice to haves

most are for project / repo hygiene, although tests could obviously be extended and setup simplified

1. ~~gh action, on pr / on push to main, workflow dispatch. fee tier gh so dont do this too early~~  
    - get this for free from a playwright install
    - playwright install on free tier is _really_ slow - nearly 10 mins. change this to workflow dispatch only
2. pretttier pre-commit / husky rather than manual execution
3. eslint
4. dependabot
5. conventional commits enforced on pre-commit
6. axe (accessibility check)
7. more investigation of the various users, some will have interesting errors to dig into that could be covered by tests
8. cleaner setup steps, they're quite verbose, repetetive and ui dependent. looks like i could just load state into local storage and navigate directly to pages under test
9. refactor to use getByRole where-ever possible. May be impractical if the site has not been designed for it though.
